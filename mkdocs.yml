site_name: TeaLabs # 项目名称
site_url: https://bodani.github.io/docs/ # 我在nginx中使用的是8000端口，如果你使用的是80端口，可以直接写成https://localhost/。
site_author: Eamon # 作者
site_description: >- # 项目描述
  Welcome to Shaun's rabbit hole. This site serves as a personal knowledge base for me to record my thoughts and ideas. It is also a place for me to share my knowledge and experience with the world. I hope you find something useful here.

# 代码仓库信息
# repo_name: docs # 仓库名称
# repo_url: https://github.com/bodani/docs.git # 仓库地址

# 版权信息
copyright: Copyright &copy;  2021-2026 | Eamon

theme:
  name: "material"
  palette:
    - media: "(prefers-color-scheme)" # 主题颜色
      scheme: slate
      primary: black
      accent: indigo
      toggle:
        icon: material/link
        name: Switch to light mode
    - media: "(prefers-color-scheme: light)" # 浅色
      scheme: default
      primary: green
      accent: deep_orange
      toggle:
        icon: material/toggle-switch
        name: Switch to dark mode
    - media: "(prefers-color-scheme: dark)" # 深色
      scheme: slate
      primary: black
      accent: indigo
      toggle:
        icon: material/toggle-switch-off
        name: Switch to system preference
  font: # 字体，大概率不需要换
    text: Roboto
    code: Roboto Mono
  features:
    - announce.dismiss # 可以叉掉公告的功能
    # - content.action.edit # 编辑按钮，似乎没啥用
    # - content.action.view # 查看按钮，似乎没啥用
    - content.code.annotate # 代码注释，具体不清楚
    - content.code.copy # 复制代码按钮
    - content.code.select # 选择代码按钮
    # - content.tabs.link # 链接标签
    - content.tooltips # 不太清楚呢这个
    # - header.autohide # 自动隐藏header
    # - navigation.expand # 默认展开导航栏
    # - navigation.footer  # 底部导航栏
    - navigation.indexes # 索引按钮可以直接触发文件，而不是只能点击其下属选项浏览，这个功能可以给对应的section提供很好的预览和导航功能
    # - navigation.instant # 瞬间加载 最好注释掉，多语言切换这个会导致跳回首页
    - navigation.instant.prefetch # 预加载
    - navigation.instant.progress # 进度条
    - navigation.path # 导航路径， 目前好像没啥用
    # - navigation.prune # 只构建可见的页面
    - navigation.sections # 导航栏的section
    - navigation.tabs # 顶级索引被作为tab
    - navigation.tabs.sticky # tab始终可见
    - navigation.top # 开启顶部导航栏
    - navigation.tracking # 导航栏跟踪
    - search.highlight # 搜索高亮
    - search.share # 搜索分享
    - search.suggest # 搜索建议
    - toc.follow # 目录跟踪-页面右侧的小目录

  languages: # 多语言配置 - 需要小心一点
    - locale: en
      default: true # 默认语言
      name: English
      build: true # 是否构建
    # site_name: Infinity
    - locale: zh
      name: 简体中文
      build: true
extra_css:
  - stylesheets/extra.css
  - custom-style/custom-styles.css
extra_javascript:
  - custom-js/custom-js.js

# Plugins
plugins:
  - search:
      separator: '[\s\u200b\-_,:!=\[\]()"`/]+|\.(?!\d)|&[lg]t;|(?!\b)(?=[A-Z][a-z])'
  - minify:
      minify_html: true
  - mermaid2

not_in_nav: |
  /docs/**/*.md

nav:
  - MYSQL:
      - "./mysql/index.md"
      - 安装: "./mysql/install.md"
      - 配置: "./mysql/config.md"
      - 权限管理: "./mysql/PrivilegeManagement.md"
      - 用户管理: "./mysql/users.md"
      - 主从复制:
          - mysql/replication/index.md
          - 异步复制: mysql/replication/replication.md
          - 半同步复制: mysql/replication/semisync.md
      - 高可用:
          - 组复制: "./mysql/MGR.md"
          - mysqlsh: "./mysql/myshellMGR.md"
      - 监控:
          - exporter: ./mysql/exporter.md

      - 压测:
          - mysqlslap: "./mysql/mysqlslap.md"
          - mysql45: "https://bodani.github.io/mysql45"

  - PostgreSQL:
      - "./postgres/index.md"
      - 安装与配置:
          - 安装: "./postgres/install/install01.md"
          - 安装详解: "./postgres/install/install02.md"
          - 安装进阶: "./postgres/install/install.md"
          - 配置: "./postgres/install/config.md"

      - 高可用:
          - 设计分析: "./postgres/ha/ha_fd.md"
          - Patroni集群: "./postgres/ha/patroni.md"
          - Patroni高级: "./postgres/ha/patroni02.md"
          - PGAutofailover: "./postgres/ha/pgautofailover.md"
          - Repmgr: "./postgres/ha/repmgr.md"
          - RepmgrD: "./postgres/ha/repmgrd.md"
          - 一致性: "./postgres/ha/adlock.md"

      - 索引与查询优化:
          - 索引类型及使用场景: "./postgres/index/index01.md"
          - 索引失效: "./postgres/index/index-invalid.md"
          - Bloom索引: "./postgres/index/index-bloom.md"
          - 假设索引: "./postgres/index/hypopg-index.md"
          - 索引最佳实践: "./postgres/index/index.md"
          - 表分区: "./postgres/index/partition.md"
          - Partman插件: "./postgres/index/partman.md"
          - 模板表: "./postgres/index/template.md"
          - 未记录表: "./postgres/index/unlogged_table.md"

      - 性能优化:
          - 填充因子: "./postgres/performance/fillfactor.md"
          - 统计信息: "./postgres/performance/stat.md"
          - 参数优化: "./postgres/performance/params.md"
          - 高级SQL: "./postgres/performance/high_level_sql.md"
          - 连接函数: "./postgres/performance/FunctionsandOperators.md"
          - VACUUM操作: "./postgres/performance/vacuum.md"
          - VACUUM限制: "./postgres/performance/vacuum_limit.md"
          - 冻结机制: "./postgres/performance/hotupdate.md"
          - 性能优化思考: "./postgres/performance/thinking_in_db_performance.md"
          - 系统调优: "./postgres/performance/thinking_in_db_tune.md"

      - 数据维护:
          - 事务管理: "./postgres/install/toast.md"
          - 数据删除: "./postgres/install/delete.md"
          - 检查点: "./postgres/install/checkpoint.md"
          - 日常管理: "./postgres/install/daily_management.md"
          - BGWriter: "./postgres/install/bgwriter.md"
          - 表空间: "./postgres/install/tablespace.md"
          - 空间工具: "./postgres/install/pgstattuple.md"

      - 监控分析:
          - 监控基础: "./postgres/tools/monitor.md"
          - SQL监控: "./postgres/tools/monitor-sql.md"
          - STAT视图: "./postgres/tools/view_pg_stat_activity.md"
          - 统计BGWriter: "./postgres/tools/view_pg_stat_bgwriter.md"
          - Explain分析: "./postgres/tools/monitor_explain.md"
          - 活动视图: "./postgres/tools/pg_activity.md"
          - 数据库监控: "./postgres/tools/dba.md"

      - 扩展模块:
          - Citus分布式: "./postgres/extentions/citus01.md"
          - Citus高级: "./postgres/extentions/citus11.md"
          - TimescaleDB: "./postgres/extentions/timescaledb.md"
          - PipelineDB: "./postgres/extentions/pipelinedb01.md"
          - PipelineDB实战: "./postgres/extentions/pipelinedb02.md"
          - PGPool-II: "./postgres/extentions/pgpool2.md"
          - PGBouncer: "./postgres/extentions/pgbouncer.md"
          - PGBackRMAN: "./postgres/extentions/pg_rman.md"
          - FDW外部表: "./postgres/extentions/pg_fdw.md"

      - 数据同步:
          - 流复制: "./postgres/replication/replication01.md"
          - 复制原理: "./postgres/replication/replication02.md"
          - 逻辑复制: "./postgres/replication/logical-replication.md"
          - 逻辑复制故障切换: "./postgres/replication/logical-replication_failover.md"
          - pg_rewind: "./postgres/replication/pg_rewind.md"

      - 备份与恢复:
          - 逻辑备份: "./postgres/backup/logical-backup.md"
          - 物理备份: "./postgres/backup/physical-backup.md"
          - 备份方案设计: "./postgres/backup/index.md"
          - pgBackRest: "./postgres/backup/pgbackrest.md"
          - WAL-G备份: "./postgres/backup/wal-g.md"
          - pgcopydb迁移: "./postgres/backup/pgcopydb.md"
          - 数据恢复基础: "./postgres/backup/reback.md"
          - 超级用户恢复: "./postgres/backup/reback_supper_user.md"
          - PITR备份恢复: "./postgres/backup/pitr.md"

      - 安全管理:
          - 角色管理: "./postgres/security/role-manager.md"
          - 权限管理: "./postgres/security/PrivilegeManagement.md"
          - 连接认证: "./postgres/security/login_nopasswd.md"
          - SSL安全: "./postgres/security/ssl.md"
          - 备用服务: "./postgres/security/prepare.md"
          - 只读实例: "./postgres/security/readonly.md"

      - 高级特性:
          - WAL操作详解: "./postgres/troubleshooting/wal_lsn.md"
          - WAL配置大小: "./postgres/troubleshooting/wal_size.md"
          - 高级插入技巧: "./postgres/design/insert01.md"
          - UPSERT: "./postgres/design/upset.md"
          - HLL统计: "./postgres/design/hll.md"
          - JSON处理: "./postgres/design/pg_json.md"
          - TRGM相似搜索: "./postgres/design/pg_trgm.md"

      - 数据库设计:
          - 范式理论: "./postgres/design/normal-form.md"
          - 物化视图: "./postgres/design/materialized.md"
          - 扩展功能: "./postgres/design/extention.md"

      - 工具集:
          - pgbench压测: "./postgres/tools/pgbench.md"
          - 集群扩展: "./postgres/tools/pg_elk.md"
          - pgpathman分片: "./postgres/tools/pg_pathman.md"
          - 预加载缓存: "./postgres/tools/pg_prewarm.md"
          - 统计预缓存: "./postgres/tools/pg_buffercache.md"
          - 模糊查询: "./postgres/tools/pgfincore.md"
          - 锁等待分析: "./postgres/tools/lock_wait.md"
          - 行数统计: "./postgres/tools/pgage.md"
          - 监控系统: "./postgres/tools/pgwatch2.md"
          - 备份压缩: "./postgres/tools/pg_rewrite.md"
          - 大页支持: "./postgres/tools/pg_prewarm.md"
          - 读写分析: "./postgres/tools/pg_lock.md"
          - 表分析: "./postgres/tools/pgstattuple.md"
          - CITUS扩展: "./postgres/tools/pg_citus.md"

      - 版本与历史:
          - 12版特性: "./postgres/install/postgres12.md"
          - 使用指南: "./postgres/install/postgresql-howto.md"
          - TPC-H基准: "./postgres/tools/tpch.md"
          - 备份归档: "./postgres/backup/archive.md"
          - 扩展目录: "./postgres/extentions/"
          - 配置文件目录: "./postgres/install/config/"
          - 监控目录: "./postgres/monitor/"

      - 架构与原理:
          - 数据库架构: "./postgres/install/cluster.md"
          - 系统分析: "./postgres/troubleshooting/debezium.md"
          - 迁移与DTS: "./postgres/troubleshooting/dts.md"
          - 系统锁定分析: "./postgres/troubleshooting/explain.md"
          - 登录处理流程: "./postgres/troubleshooting/libpg.md"
          - 功能分析: "./postgres/troubleshooting/pg_rewrite.md"

      - 故障排除与问题解决:
          - OOM问题: "./postgres/troubleshooting/oom.md"
          - 空间自动清理: "./postgres/troubleshooting/auto_vacuum_trigger.md"
          - 数据预加载: "./postgres/troubleshooting/pg_prewarm.md"
          - 案例研究: "./postgres/troubleshooting/awsome-postgres.md"

  - 中间件:
      - middleware/index.md
      - ClickHouse:
          - 安装: ./clickhouse/install/index.md
          - 单机版: ./clickhouse/install/install_single.md
          - 集群版: ./clickhouse/install/install_cluster.md
          - keeper: ./clickhouse/ch-keeper.md
          - 表引擎: ./clickhouse/demo.md
          - 压缩: ./clickhouse/compresstion.md
          - 恢复: ./clickhouse/restore.md
      - MongoDB:
          - 安装: ./mongodb/install.md
          - 配置: ./mongodb/config.md
          - 复制集: ./mongodb/replication.md
          - 分片集群: ./mongodb/sharding.md
          - 权限管理: ./mongodb/privilege.md
      - 监控系统:
          - Prometheus: ./monitor/prometheus.md
          - Grafana: ./monitor/grafana.md
          - exporter: ./monitor/exporter.md
          - 监控指标: ./monitor/metrics.md
      - fluentbit:
          - 介绍: ./fluentbit/intro.md
          - 安装配置: ./fluentbit/config.md
          - 使用场景: ./fluentbit/usecases.md
          - 日志收集: ./fluentbit/logcollection.md

  - Linux:
      - linux/index.md
      - 工具与管理:
          - 系统工具: ./linux/tools.md
          - ddrescue 数据恢复: ./linux/ddrescue.md
          - ELF 工具: ./linux/elfutil.md
          - 补丁管理: ./linux/patch.md
          - 硬件管理: ./linux/smartctl.md
          - 远程管理: ./linux/ipmitool.md
      - 虚拟化与容器:
          - KVM 虚拟化: ./linux/kvm01.md
          - Kubernetes 工具: ./linux/kuberctl.md
      - 安全与管理:
          - Web 安全管理: ./linux/webmanage.md

  - 数据库思考:
      - 结构设计: "./postgres/maintenance/thinking_in_db_fd.md"
      - 性能优化: "./postgres/performance/thinking_in_db_performance.md"
      - 模块调优: "./postgres/performance/thinking_in_db_tune.md"
